extends layout

block content
  .container-fluid.mt-4
    .row
      .col-md-8.offset-md-2
        .card
          .card-header
            h2 Add New Employee
          .card-body
            form(action='/employees/add', method='POST')
              .row
                .col-md-6
                  .form-group
                    label(for='firstName') First Name
                    input#firstName.form-control(type='text', name='firstName', required)
                .col-md-6
                  .form-group
                    label(for='lastName') Last Name
                    input#lastName.form-control(type='text', name='lastName', required)
              .row
                .col-md-6
                  .form-group
                    label(for='email') Email
                    input#email.form-control(type='email', name='email', required)
                .col-md-6
                  .form-group
                    label(for='password') Password
                    input#password.form-control(type='password', name='password', required)
                
              .row
                .col-md-6
                  .form-group
                    label(for="department") Department
                    select#department.form-control(name="department" required)
                      option(value="") Select Department
                      option(value="Software Development") Software Development
                      option(value="IT Operations") IT Operations
                      option(value="IT Helpdesk") IT Helpdesk
                      option(value="IT Security") IT Security
                      option(value="IT Asset Management") IT Asset Management
                .col-md-6
                  .form-group
                    label(for="position") Position
                    select#position.form-control(name="position" required)
                      option(value="") Select Position
                  
                            
              .row
                .col-md-6
                  .form-group
                    label(for='salary') Salary
                    input#salary.form-control(type='number', name='salary', min='0', step='100', required)
                .col-md-6
                  .form-group
                    label(for='isActive') Active Status
                    select#isActive.form-control(name='isActive', required)
                      option(value='true') Active
                      option(value='false') Inactive
              .row 
                .col-md-6
                  .form-group
                    label(for='branch') Branch
                    select#branch.form-control(name='branch', required)
                      option(value='') Select Branch
                      option(value='Chennai') Chennai
                      option(value='Mumbai') Mumbai
                      option(value='Delhi') Delhi
                      option(value='Bangalore') Bangalore
                      
                .col-md-6
                  .form-group
                    label(for='isAssetIssuer') Asset Manager
                    select#isAssetIssuer.form-control(name='isAssetIssuer', required)
                      option(value='') Select Asset Manager
                      option(value='true') Yes
                      option(value='false') No
                
              .row 
                .col-md-6
                  .form-group
                    label(for='dateJoined') Date Joined
                    input#dateJoined.form-control(type='date', name='dateJoined', required)
                
                .col-md-6 
                  .form-group
                    label(for='dateTerminated') Date Terminated
                    input#dateTerminated.form-control(type='date', name='dateTerminated')

              .row
                .col-12
                  button.btn.btn-primary(type='submit') Add Employee

        script.
              const departmentSelect = document.getElementById('department');
              const positionSelect = document.getElementById('position');

              departmentSelect.addEventListener('change', () => {
                const department = departmentSelect.value;

                // Clear current options
                positionSelect.innerHTML = '';

                if (department === 'Software Development') {
                  positionSelect.add(new Option('Full Stack Developer', 'Full Stack Developer'));
                  positionSelect.add(new Option('Back-End Developer', 'Back-End Developer'));
                  positionSelect.add(new Option('QA Tester', 'QA Tester'));
                } else if (department === 'IT Operations') {
                  positionSelect.add(new Option('Network Administrator', 'Network Administrator'));
                  positionSelect.add(new Option('Cloud Engineer', 'Cloud Engineer'));
                  positionSelect.add(new Option('System Administrator', 'System Administrator'));
                } else if (department === 'IT Helpdesk') {
                  positionSelect.add(new Option('Support Technician', 'Support Technician'));
                  positionSelect.add(new Option('Service Desk Analyst', 'Service Desk Analyst'));
                } else if (department === 'IT Security') {
                  positionSelect.add(new Option('Security Analyst', 'Security Analyst'));
                  positionSelect.add(new Option('Security Engineer', 'Security Engineer'));
                } else if (department === 'IT Asset Management') {
                  positionSelect.add(new Option('Asset Manager', 'Asset Manager'));
                }
              });

              departmentSelect.dispatchEvent(new Event('change'));